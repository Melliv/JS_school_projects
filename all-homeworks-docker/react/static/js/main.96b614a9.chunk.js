(this["webpackJsonpblood-donation-system-react"]=this["webpackJsonpblood-donation-system-react"]||[]).push([[0],{70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var s,n=a(1),c=a.n(n),r=a(35),o=a.n(r),l=a(3),d=a(2),i=a(7),j=a(5),u={token:null,firstName:"",lastName:"",setAuthInfo:function(e,t,a){},clearAuthInfo:function(e){e.token=null,e.firstName="",e.lastName=""}},b=c.a.createContext(u),m=b.Provider,O=(b.Consumer,a(0)),h=function(e){var t=e.children,a=Object(n.useContext)(b);return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"row justify-content-center",children:Object(O.jsx)("div",{className:"col-xl-10 col-lg-12 col-md-9",children:Object(O.jsx)("div",{className:"card o-hidden border-0 shadow-lg my-5",children:Object(O.jsxs)("div",{className:"card-body p-0",children:[null!=a.token?Object(O.jsx)("div",{className:"container mt-2",children:Object(O.jsx)(j.b,{type:"button",className:"btn btn-primary",to:"/",children:"Home"})}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)("div",{className:"container m-auto",children:Object(O.jsx)("main",{role:"main",className:"pb-3",children:t})})]})})})})})},p=function(){return Object(O.jsx)("footer",{className:"footer bg-dark text-center text-lg-start text-light",children:Object(O.jsxs)("div",{className:"container",children:["\xa9 2021 - Bloody -",Object(O.jsx)(j.b,{className:"text-info",to:"/Privacy",children:" Privacy"})]})})},x=function(){var e=Object(n.useContext)(b),t=Object(n.useState)(""),a=Object(l.a)(t,2),s=a[0],c=a[1];return Object(O.jsxs)(O.Fragment,{children:[""!==s?Object(O.jsx)(i.a,{to:s}):null,Object(O.jsxs)("header",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow",children:[Object(O.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":".navbar-collapse","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(O.jsx)("span",{className:"navbar-toggler-icon"})}),Object(O.jsx)("div",{className:"navbar-collapse collapse d-flex justify-content-end",children:Object(O.jsxs)("ul",{className:"navbar-nav float-right",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsxs)(j.b,{to:"/Identity/Profile",className:"nav-link btn btn-link text-dark",title:"Manage",children:["Hello! ",e.firstName," ",e.lastName]})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)("button",{onClick:function(t){return function(t,a){t.preventDefault(),e.clearAuthInfo(e),c(a)}(t.nativeEvent,"/Identity/Login")},className:"nav-link btn btn-link text-dark",children:"Logout"})})]})})]})]})},f=function(){return Object(O.jsxs)("ul",{className:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",id:"accordionSidebar",children:[Object(O.jsxs)(j.c,{className:"sidebar-brand d-flex align-items-center justify-content-center",to:"/",children:[Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",className:"bi bi-droplet-fill",viewBox:"0 0 16 16",children:Object(O.jsx)("path",{fillRule:"evenodd",d:"M8 16a6 6 0 0 0 6-6c0-1.655-1.122-2.904-2.432-4.362C10.254 4.176 8.75 2.503 8 0c0 0-6 5.686-6 10a6 6 0 0 0 6 6zM6.646 4.646c-.376.377-1.272 1.489-2.093 3.13l.894.448c.78-1.559 1.616-2.58 1.907-2.87l-.708-.708z"})}),Object(O.jsx)("div",{className:"sidebar-brand-text mx-3",children:"Blood Center"})]}),Object(O.jsx)("hr",{className:"sidebar-divider"}),Object(O.jsx)("div",{className:"sidebar-heading",children:"General"}),Object(O.jsxs)("li",{className:"nav-item",children:[Object(O.jsxs)(j.c,{className:"nav-link collapsed",to:"#","data-toggle":"collapse","data-target":"#statistics","aria-expanded":"true","aria-controls":"statistics",children:[Object(O.jsx)("i",{className:"fas fa-fw fa-cog"}),Object(O.jsx)("span",{children:"Statistics"})]}),Object(O.jsx)("div",{id:"statistics",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionSidebar",children:Object(O.jsxs)("div",{className:"bg-white py-2 collapse-inner rounded",children:[Object(O.jsx)(j.c,{className:"collapse-item",to:"/Statistics/General",children:"General"}),Object(O.jsx)(j.c,{className:"collapse-item",to:"/Statistics/BloodDonate",children:"Blood donations"}),Object(O.jsx)(j.c,{className:"collapse-item",to:"/Statistics/BloodTransfusion",children:"Blood transfusions"})]})})]}),Object(O.jsxs)("li",{className:"nav-item",children:[Object(O.jsxs)(j.c,{className:"nav-link collapsed",to:"#","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:[Object(O.jsx)("i",{className:"fas fa-fw fa-cog"}),Object(O.jsx)("span",{children:"Persons"})]}),Object(O.jsx)("div",{id:"collapseOne",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionSidebar",children:Object(O.jsxs)("div",{className:"bg-white py-2 collapse-inner rounded",children:[Object(O.jsx)("h6",{className:"collapse-header",children:"Activities:"}),Object(O.jsx)(j.c,{className:"collapse-item",to:"/Person",children:"Persons"}),Object(O.jsx)(j.c,{className:"collapse-item",to:"/Person/Create",children:"Register"})]})})]}),Object(O.jsx)("hr",{className:"sidebar-divider"}),Object(O.jsx)("div",{className:"sidebar-heading",children:"Activities"}),Object(O.jsxs)("li",{className:"nav-item",children:[Object(O.jsxs)(j.c,{className:"nav-link collapsed",to:"#","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"true","aria-controls":"collapseTwo",children:[Object(O.jsx)("i",{className:"fas fa-fw fa-cog"}),Object(O.jsx)("span",{children:"Blood testing"})]}),Object(O.jsx)("div",{id:"collapseTwo",className:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar",children:Object(O.jsxs)("div",{className:"bg-white py-2 collapse-inner rounded",children:[Object(O.jsx)("h6",{className:"collapse-header",children:"Activities:"}),Object(O.jsx)(j.c,{className:"collapse-item",to:"/BloodTest",children:"Tests"}),Object(O.jsx)(j.c,{className:"collapse-item",to:"/BloodTest/Create",children:"Create"})]})})]}),Object(O.jsxs)("li",{className:"nav-item",children:[Object(O.jsxs)(j.c,{className:"nav-link collapsed",to:"#","data-toggle":"collapse","data-target":"#collapseThree","aria-expanded":"true","aria-controls":"collapseThree",children:[Object(O.jsx)("i",{className:"fas fa-fw fa-cog"}),Object(O.jsx)("span",{children:"Blood donation"})]}),Object(O.jsx)("div",{id:"collapseThree",className:"collapse","aria-labelledby":"headingThree","data-parent":"#accordionSidebar",children:Object(O.jsxs)("div",{className:"bg-white py-2 collapse-inner rounded",children:[Object(O.jsx)("h6",{className:"collapse-header",children:"Activities:"}),Object(O.jsx)(j.c,{className:"collapse-item",to:"/BloodDonate",children:"Donations"}),Object(O.jsx)(j.c,{className:"collapse-item",to:"/BloodDonate/Create",children:"Create"})]})})]}),Object(O.jsxs)("li",{className:"nav-item",children:[Object(O.jsxs)(j.c,{className:"nav-link collapsed",to:"#","data-toggle":"collapse","data-target":"#collapseFore","aria-expanded":"true","aria-controls":"collapseThree",children:[Object(O.jsx)("i",{className:"fas fa-fw fa-cog"}),Object(O.jsx)("span",{children:"Blood transfusion"})]}),Object(O.jsx)("div",{id:"collapseFore",className:"collapse","aria-labelledby":"headingFore","data-parent":"#accordionSidebar",children:Object(O.jsxs)("div",{className:"bg-white py-2 collapse-inner rounded",children:[Object(O.jsx)("h6",{className:"collapse-header",children:"Activities:"}),Object(O.jsx)(j.c,{className:"collapse-item",to:"/BloodTransfusion",children:"BloodTransfusions"}),Object(O.jsx)(j.c,{className:"collapse-item",to:"/BloodTransfusion/Create",children:"Create"})]})})]})]})},v=function(e){var t=e.children;return Object(O.jsxs)("div",{id:"wrapper",children:[Object(O.jsx)(f,{}),Object(O.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(O.jsx)(x,{}),Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsx)("div",{id:"content",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("main",{role:"main",className:"pb-3",children:t})})})})]}),Object(O.jsx)(p,{})]})},g=function(){return Object(O.jsx)(i.a,{to:"/Person"})},N=a(4),C=a.n(N),y=a(6);!function(e){e.Primary="alert-primary",e.Secondary="alert-secondary",e.Success="alert-success",e.Danger="alert-danger",e.Warning="alert-warning",e.Info="alert-info",e.Light="alert-light",e.Dark="alert-dark"}(s||(s={}));var w=function(e){return e.show?Object(O.jsx)("div",{className:"alert "+e.alertClass+" mt-2",role:"alert",children:e.message}):null},k=a(18),S=a(19),I=a(20),T=a.n(I),B="http://blooddonate.azurewebsites.net/api/v1/",D=function(){function e(){Object(k.a)(this,e)}return Object(S.a)(e,null,[{key:"Login",value:function(){var e=Object(y.a)(C.a.mark((function e(t,a){var s,n,c,r,o,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=JSON.stringify(a),e.prev=1,e.next=4,this.axios.post(t,s);case 4:return n=e.sent,e.abrupt("return",{ok:n.status<=299,statusCode:n.status,data:n.data});case 8:return e.prev=8,e.t0=e.catch(1),l=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(c=null===(r=l.response)||void 0===r?void 0:r.status)&&void 0!==c?c:500,messages:(null===(o=l.response)||void 0===o?void 0:o.data).messages.toString()});case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"Register",value:function(){var e=Object(y.a)(C.a.mark((function e(t,a){var s,n,c,r,o,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=JSON.stringify(a),e.prev=1,e.next=4,this.axios.post(t,s);case 4:return n=e.sent,e.abrupt("return",{ok:n.status<=299,statusCode:n.status,data:n.data});case 8:return e.prev=8,e.t0=e.catch(1),l=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(c=null===(r=l.response)||void 0===r?void 0:r.status)&&void 0!==c?c:500,messages:(null===(o=l.response)||void 0===o?void 0:o.data).messages.toString()});case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();D.axios=T.a.create({baseURL:B,headers:{"Content-Type":"application/json"}});var A,E=function(){var e=Object(n.useContext)(b),t=Object(n.useState)({email:"",password:""}),a=Object(l.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(""),u=Object(l.a)(o,2),m=u[0],h=u[1],p=function(){var t=Object(y.a)(C.a.mark((function t(a){var s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),""!==c.email&&""!==c.password||h("Empty email or pawwsord!"),t.next=5,D.Login("/Account/Login",c);case 5:(s=t.sent).ok?(h(""),e.setAuthInfo(s.data.token,s.data.firstname,s.data.lastname)):h(s.messages);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[null!==e.token?Object(O.jsx)(i.a,{to:"/"}):null,Object(O.jsx)("h1",{children:"Log in"}),Object(O.jsx)("form",{children:Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-md-6",children:Object(O.jsxs)("section",{children:[Object(O.jsx)("hr",{}),Object(O.jsx)(w,{show:""!==m,message:m,alertClass:s.Danger}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"Input_Email",children:"Email"}),Object(O.jsx)("input",{value:c.email,onChange:function(e){return r(Object(d.a)(Object(d.a)({},c),{},{email:e.target.value}))},className:"form-control",type:"email",id:"Input_Email",name:"Input.Email",placeholder:"user@example.com",autoComplete:"username"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"Input_Password",children:"Password"}),Object(O.jsx)("input",{value:c.password,onChange:function(e){return r(Object(d.a)(Object(d.a)({},c),{},{password:e.target.value}))},className:"form-control",type:"password",id:"Input_Password",name:"Input.Password",placeholder:"Input your current password...",autoComplete:"current-password"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("button",{onClick:function(e){return p(e.nativeEvent)},type:"submit",className:"btn btn-primary",children:"Log in"}),Object(O.jsx)(j.b,{className:"ml-2",id:"register",to:"/Identity/Register",children:"Register new user"})]})]})})})})]})},G=function(){var e={error:"",email:"",password:"",confirmPassword:"",firstname:"",lastname:""},t=Object(n.useContext)(b),a=Object(n.useState)({email:"",password:"",confirmPassword:"",firstname:"",lastname:""}),c=Object(l.a)(a,2),r=c[0],o=c[1],u=Object(n.useState)(e),m=Object(l.a)(u,2),h=m[0],p=m[1],x=function(){var t=!0;p(e);/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\],;:\s@"]+)*)|(".+"))@(([^<>()[\],;:\s@"]+\.)+[^<>()[\],;:\s@"]{2,})$/i.test(r.email)||(p((function(e){return Object(d.a)(Object(d.a)({},e),{},{email:"Email is not valid!"})})),t=!1);return/^(?=.*?[A-Z])(?=(.*[a-z]){1,})(?=(.*[\d]){1,})(?=(.*[\W]){1,})(?!.*\s).{8,}$/i.test(r.password)||(p((function(e){return Object(d.a)(Object(d.a)({},e),{},{password:"Password requirements: Minimum 8 characters, at least 1 uppercase letter, 1 lowercase letter, 1 number and 1 special character:"})})),t=!1),r.password!==r.confirmPassword&&(p((function(e){return Object(d.a)(Object(d.a)({},e),{},{password:"Password and confirm password are not the same!"})})),t=!1),r.firstname||(p((function(e){return Object(d.a)(Object(d.a)({},e),{},{firstname:"Firstname field can not be empty!"})})),t=!1),r.lastname||(p((function(e){return Object(d.a)(Object(d.a)({},e),{},{lastname:"Lastname field can not be empty!"})})),t=!1),t},f=function(){var e=Object(y.a)(C.a.mark((function e(a){var s,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),x()){e.next=3;break}return e.abrupt("return");case 3:return s={email:r.email,password:r.password,firstname:r.firstname,lastname:r.lastname},e.next=7,D.Register("account/register",s);case 7:(n=e.sent).ok?t.setAuthInfo(n.data.token,n.data.firstname,n.data.lastname):p((function(e){return Object(d.a)(Object(d.a)({},e),{},{error:n.messages})}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){switch(e.id){case"email":return void o(Object(d.a)(Object(d.a)({},r),{},{email:e.value}));case"password":return void o(Object(d.a)(Object(d.a)({},r),{},{password:e.value}));case"confirmPassword":return void o(Object(d.a)(Object(d.a)({},r),{},{confirmPassword:e.value}));case"firstname":return void o(Object(d.a)(Object(d.a)({},r),{},{firstname:e.value}));case"lastname":return void o(Object(d.a)(Object(d.a)({},r),{},{lastname:e.value}))}};return Object(O.jsxs)(O.Fragment,{children:[null!==t.token?Object(O.jsx)(i.a,{to:"/"}):null,Object(O.jsx)(w,{show:""!==h.error,message:h.error,alertClass:s.Danger}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsxs)("form",{onSubmit:function(e){return f(e.nativeEvent)},children:[Object(O.jsx)("h4",{children:"Create new account"}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{"asp-for":"Input.Email",children:"Email"}),Object(O.jsx)("input",{value:r.email,onChange:function(e){return v(e.target)},maxLength:100,className:"form-control",id:"email"}),Object(O.jsx)(w,{show:""!==h.email,message:h.email,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{"asp-for":"Input.Password",children:"Password"}),Object(O.jsx)("input",{value:r.password,onChange:function(e){return v(e.target)},maxLength:100,className:"form-control",type:"password",id:"password"}),Object(O.jsx)(w,{show:""!==h.password,message:h.password,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{"asp-for":"Input.ConfirmPassword",children:"Confirme password"}),Object(O.jsx)("input",{value:r.confirmPassword,onChange:function(e){return v(e.target)},maxLength:100,className:"form-control",type:"password",id:"confirmPassword"}),Object(O.jsx)(w,{show:""!==h.confirmPassword,message:h.confirmPassword,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{"asp-for":"Input.FirstName",children:"Firstname"}),Object(O.jsx)("input",{value:r.firstname,onChange:function(e){return v(e.target)},maxLength:128,className:"form-control",id:"firstname"}),Object(O.jsx)(w,{show:""!==h.firstname,message:h.firstname,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{"asp-for":"Input.LastName",children:"Lastname"}),Object(O.jsx)("input",{value:r.lastname,onChange:function(e){return v(e.target)},maxLength:128,className:"form-control",id:"lastname"}),Object(O.jsx)(w,{show:""!==h.lastname,message:h.lastname,alertClass:s.Danger})]}),Object(O.jsx)("button",{onClick:function(e){return f(e.nativeEvent)},type:"submit",className:"btn btn-primary",children:"Register"}),Object(O.jsx)(j.b,{className:"ml-2",to:"/Identity/Login",children:"Back to login"})]})})})]})},F=a(8);!function(e){e.Loading="Loading...",e.Error="Error...",e.OK="Ok"}(A||(A={}));var P=function(e){return e.pageStatus===A.Loading?Object(O.jsx)("div",{className:"alert alert-primary",role:"alert",children:"Loading..."}):e.pageStatus===A.Error?Object(O.jsxs)("div",{className:"alert alert-danger",role:"alert",children:["Error... ",e.statusCode]}):Object(O.jsx)(O.Fragment,{})},L=function(){function e(){Object(k.a)(this,e)}return Object(S.a)(e,null,[{key:"getAxiosConfiguration",value:function(e){if(e)return{headers:{Authorization:"Bearer "+e}}}},{key:"getAll",value:function(){var t=Object(y.a)(C.a.mark((function t(a,s){var n,c,r,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.get(a,e.getAxiosConfiguration(s));case 3:return n=t.sent,t.abrupt("return",{ok:n.status<=299,statusCode:n.status,data:n.data});case 7:return t.prev=7,t.t0=t.catch(0),o=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(c=null===(r=o.response)||void 0===r?void 0:r.status)&&void 0!==c?c:500,messages:o.response.data.title});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=Object(y.a)(C.a.mark((function t(a,s){var n,c,r,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.get(a,e.getAxiosConfiguration(s));case 3:return n=t.sent,t.abrupt("return",{ok:n.status<=299,statusCode:n.status,data:n.data});case 7:return t.prev=7,t.t0=t.catch(0),o=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(c=null===(r=o.response)||void 0===r?void 0:r.status)&&void 0!==c?c:500,messages:o.response.data.title});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()},{key:"post",value:function(){var t=Object(y.a)(C.a.mark((function t(a,s,n){var c,r,o,l;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.post(a,s,e.getAxiosConfiguration(n));case 3:return c=t.sent,t.abrupt("return",{ok:c.status<=299,statusCode:c.status,data:c.data});case 7:return t.prev=7,t.t0=t.catch(0),l=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(r=null===(o=l.response)||void 0===o?void 0:o.status)&&void 0!==r?r:500,messages:"string"===typeof l.response.data?l.response.data:l.response.data.title});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a,s){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=Object(y.a)(C.a.mark((function t(a,s){var n,c,r,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.delete(a,e.getAxiosConfiguration(s));case 3:return n=t.sent,t.abrupt("return",{ok:n.status<=299,statusCode:n.status,data:n.data});case 7:return t.prev=7,t.t0=t.catch(0),o=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(c=null===(r=o.response)||void 0===r?void 0:r.status)&&void 0!==c?c:500,messages:"string"===typeof o.response.data?o.response.data:o.response.data.title});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()}]),e}();L.axios=T.a.create({baseURL:B,headers:{"Content-Type":"application/json"}});var V=function(){var e=Object(n.useContext)(b),t=Object(n.useState)({userInfo:{}}),s=Object(l.a)(t,2),c=s[0],r=s[1],o=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),i=Object(l.a)(o,2),j=i[0],u=i[1],m=function(){var t=Object(y.a)(C.a.mark((function t(){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.get("Account/GetAppUserInfo",e.token);case 2:(a=t.sent).ok&&a.data?(u({pageStatus:A.OK,statusCode:0}),r({userInfo:a.data})):u({pageStatus:A.Error,statusCode:a.statusCode});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){m()}),[]);var h=function(e){if(!Object(F.isEmptyObject)(e.userInfo)){var t,s=e.userInfo,n=a(14);return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("hr",{}),Object(O.jsxs)("dl",{className:"row",children:[Object(O.jsx)("dt",{className:"col-sm-2",children:"Firstname"}),Object(O.jsx)("dd",{className:"col-sm-10",children:s.firstName}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Lastname"}),Object(O.jsx)("dd",{className:"col-sm-10",children:s.lastName}),Object(O.jsx)("dt",{className:"col-sm-2",children:"User name"}),Object(O.jsx)("dd",{className:"col-sm-10",children:s.userName}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Email"}),Object(O.jsx)("dd",{className:"col-sm-10",children:s.email}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Phone"}),Object(O.jsx)("dd",{className:"col-sm-10",children:null!==(t=s.phoneNumber)&&void 0!==t?t:"-"}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Create at"}),Object(O.jsx)("dd",{className:"col-sm-10",children:n(s.dob,"isoDate")}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Email confirmed"}),Object(O.jsx)("dd",{className:"col-sm-10",children:s.emailConfirmed?"\u2714":"\u274c"}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Two factor authentication enabled"}),Object(O.jsx)("dd",{className:"col-sm-10",children:s.twoFactorEnabled?"\u2714":"\u274c"})]})]})})}return Object(O.jsx)(O.Fragment,{})};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{children:"User info"}),Object(O.jsx)(h,Object(d.a)({},c)),Object(O.jsx)(P,Object(d.a)({},j))]})},M=function(){return Object(O.jsx)("h3",{children:"Privacy ..."})},H=function(e){var t=a(14);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("td",{children:e.bloodTest.allowed?"\u2714":"\u274c"}),Object(O.jsx)("td",{children:e.bloodTest.donor.fullName}),Object(O.jsx)("td",{children:e.bloodTest.doctor.fullName}),Object(O.jsx)("td",{children:t(e.bloodTest.createAt,"dd/mm/yyyy")}),Object(O.jsx)("td",{children:Object(O.jsx)(j.b,{to:"/BloodTest/"+e.bloodTest.id,children:"Details"})})]})},K=function(){var e=Object(i.g)().personId,t=Object(n.useState)([]),a=Object(l.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),o=Object(l.a)(r,2),j=o[0],u=o[1],m=Object(n.useContext)(b),h=function(){var t=Object(y.a)(C.a.mark((function t(){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=6;break}return t.next=3,L.getAll("BloodTest",m.token);case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,L.getAll("BloodTest/personId="+e,m.token);case 8:t.t0=t.sent;case 9:(a=t.t0).ok&&a.data?(u({pageStatus:A.OK,statusCode:0}),c(a.data)):u({pageStatus:A.Error,statusCode:a.statusCode});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){h()}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Blood tests"}),Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Allowed"}),Object(O.jsx)("th",{children:"Donor"}),Object(O.jsx)("th",{children:"Doctor"}),Object(O.jsx)("th",{children:"Created at"}),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{children:s.map((function(e){return Object(O.jsx)("tr",{children:Object(O.jsx)(H,{bloodTest:e})},e.id.toString())}))})]}),Object(O.jsx)(P,Object(d.a)({},j))]})},U=function(){var e=Object(i.g)().id,t=Object(n.useState)({bloodTest:{}}),s=Object(l.a)(t,2),c=s[0],r=s[1],o=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),u=Object(l.a)(o,2),m=u[0],h=u[1],p=Object(n.useContext)(b),x=function(){var t=Object(y.a)(C.a.mark((function t(){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.get("BloodTest/"+e,p.token);case 2:(a=t.sent).ok&&a.data?(h({pageStatus:A.OK,statusCode:0}),r({bloodTest:a.data})):h({pageStatus:A.Error,statusCode:a.statusCode});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(e){if(!Object(F.isEmptyObject)(e.bloodTest)){var t=e.bloodTest,s=a(14);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:"Blood test"}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{"v-if":"bloodTest != null",children:Object(O.jsxs)("dl",{className:"row",children:[Object(O.jsx)("dt",{className:"col-sm-2",children:"Allowed"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.allowed?"\u2714":"\u274c"}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Blood group"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.bloodGroup.bloodGroupValue}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Donor"}),Object(O.jsx)("dd",{className:"col-sm-10",children:Object(O.jsx)(j.b,{to:"/Person/"+t.donorId,children:t.donor.fullName})}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Doctor"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.doctor.fullName}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Comments"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.comments}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Created by"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.createdBy}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Create at"}),Object(O.jsx)("dd",{className:"col-sm-10",children:s(t.createAt,"dd/mm/yyyy HH:MM")}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Update by"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.updateBy}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Updated at"}),Object(O.jsx)("dd",{className:"col-sm-10",children:s(t.updatedAt,"dd/mm/yyyy HH:MM")})]})})]}),Object(O.jsx)("div",{children:Object(O.jsx)(j.b,{className:"nav-link text-dark",to:"/BloodTest",children:"to list"})})]})}return Object(O.jsx)(O.Fragment,{})};return Object(n.useEffect)((function(){x()}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Details"}),Object(O.jsx)(f,Object(d.a)({},c)),Object(O.jsx)(P,Object(d.a)({},m))]})},R={id:"00000000-0000-0000-0000-000000000000",createdBy:"-",createAt:"0001-01-01T00:00:00",updateBy:"-",updatedAt:"0001-01-01T00:00:00",allowed:!1,comments:"",donorId:"",donor:null,doctorId:"",doctor:null,bloodGroupId:"",bloodGroup:null,overviewData:""},z=function(e){var t,a,c,r,o,j={error:"",donor:"",doctor:"",bloodGroup:"",comments:""},u=Object(n.useState)([]),m=Object(l.a)(u,2),h=m[0],p=m[1],x=Object(n.useState)([]),f=Object(l.a)(x,2),v=f[0],g=f[1],N=Object(n.useState)([]),k=Object(l.a)(N,2),S=k[0],I=k[1],T=Object(n.useState)(""),B=Object(l.a)(T,2),D=B[0],E=B[1],G=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),F=Object(l.a)(G,2),V=F[0],M=F[1],H=Object(n.useState)(j),K=Object(l.a)(H,2),U=K[0],R=K[1],z=Object(n.useContext)(b),J=function(){var e=Object(y.a)(C.a.mark((function e(){var t,a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAll("/Persons",z.token);case 2:return t=e.sent,e.next=5,L.getAll("/Persons/personType=Doctor",z.token);case 5:return a=e.sent,e.next=8,L.getAll("/BloodGroup",z.token);case 8:s=e.sent,t.ok&&t.data&&a.ok&&a.data&&s.ok&&s.data?(M({pageStatus:A.OK,statusCode:0}),p(t.data),g(a.data),I(s.data)):M({pageStatus:A.Error,statusCode:s.statusCode});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var t=!0;return R(j),e.values.donorId||(R((function(e){return Object(d.a)(Object(d.a)({},e),{},{donor:"Donor field can not be empty!"})})),t=!1),e.values.doctorId||(R((function(e){return Object(d.a)(Object(d.a)({},e),{},{doctor:"Doctor field can not be empty!"})})),t=!1),e.values.bloodGroupId||(R((function(e){return Object(d.a)(Object(d.a)({},e),{},{bloodGroup:"blood group field can not be empty!"})})),t=!1),t},W=function(){var t=Object(y.a)(C.a.mark((function t(a){var s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),_()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,L.post("BloodTest",e.values,z.token);case 5:(s=t.sent).ok?E(s.data.id):R((function(e){return Object(d.a)(Object(d.a)({},e),{},{error:s.messages})}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){J()}),[]),Object(O.jsxs)(O.Fragment,{children:[""!==D?Object(O.jsx)(i.a,{to:"/BloodTest/"+D}):null,Object(O.jsxs)("form",{children:[Object(O.jsx)(w,{show:""!==U.error,message:U.error,alertClass:s.Danger}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Doctor"}),Object(O.jsxs)("select",{value:null!==(t=e.values.doctorId)&&void 0!==t?t:0,onChange:function(t){return e.handleChange(t.target)},className:"form-control",id:"doctor",children:[Object(O.jsx)("option",{}),v.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.fullName},e.id)}))]}),Object(O.jsx)(w,{show:""!==U.doctor,message:U.doctor,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Donor"}),Object(O.jsxs)("select",{value:null!==(a=e.values.donorId)&&void 0!==a?a:0,onChange:function(t){return e.handleChange(t.target)},className:"form-control",id:"donor",children:[Object(O.jsx)("option",{}),h.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.fullName},e.id)}))]}),Object(O.jsx)(w,{show:""!==U.donor,message:U.donor,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Blood group"}),Object(O.jsxs)("select",{value:null!==(c=e.values.bloodGroupId)&&void 0!==c?c:0,onChange:function(t){return e.handleChange(t.target)},className:"form-control",id:"bloodGroup",children:[Object(O.jsx)("option",{}),S.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.bloodGroupValue},e.id)}))]}),Object(O.jsx)(w,{show:""!==U.bloodGroup,message:U.bloodGroup,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group col-3",children:[Object(O.jsx)("label",{className:"control-label",children:"Allowed"}),Object(O.jsx)("input",{checked:null!==(r=e.values.allowed)&&void 0!==r&&r,onChange:function(t){return e.handleChange(t.target)},type:"checkbox",className:"form-control",id:"allowed"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"formTextArea",children:"Comments"}),Object(O.jsx)("textarea",{value:null!==(o=e.values.comments)&&void 0!==o?o:0,onChange:function(t){return e.handleChange(t.target)},maxLength:1024,className:"form-control",id:"comments",rows:3}),Object(O.jsx)(w,{show:""!==U.comments,message:U.comments,alertClass:s.Danger})]}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("button",{type:"submit",onClick:function(e){return W(e.nativeEvent)},className:"btn btn-primary",children:"Create"})})]}),Object(O.jsx)(P,Object(d.a)({},V))]})},J=function(){var e=Object(i.g)(),t=e.personId,a=e.bloodGroupId,s=Object(n.useState)(R),c=Object(l.a)(s,2),r=c[0],o=c[1];Object(n.useEffect)((function(){t&&a&&o(Object(d.a)(Object(d.a)({},r),{},{donorId:t,bloodGroupId:a}))}),[]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Create"}),Object(O.jsx)("h4",{children:"Blood test"}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)(z,{values:r,handleChange:function(e){switch(e.id){case"doctor":return void o(Object(d.a)(Object(d.a)({},r),{},{doctorId:e.value}));case"donor":return void o(Object(d.a)(Object(d.a)({},r),{},{donorId:e.value}));case"bloodGroup":return void o(Object(d.a)(Object(d.a)({},r),{},{bloodGroupId:e.value}));case"allowed":return void o(Object(d.a)(Object(d.a)({},r),{},{allowed:e.checked}));case"comments":return void o(Object(d.a)(Object(d.a)({},r),{},{comments:e.value}))}}})})})]})},_=function(e){var t=a(14);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("td",{children:e.bloodDonate.bloodGroup.bloodGroupValue}),Object(O.jsx)("td",{children:e.bloodDonate.amount}),Object(O.jsx)("td",{children:e.bloodDonate.donor.fullName}),Object(O.jsx)("td",{children:e.bloodDonate.doctor.fullName}),Object(O.jsx)("td",{children:t(e.bloodDonate.createAt,"dd/mm/yyyy")}),Object(O.jsx)("td",{children:Object(O.jsx)(j.b,{to:"/BloodDonate/"+e.bloodDonate.id,children:"Details"})})]})},W=function(){var e=Object(i.g)().personId,t=Object(n.useState)([]),a=Object(l.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),o=Object(l.a)(r,2),j=o[0],u=o[1],m=Object(n.useContext)(b),h=function(){var t=Object(y.a)(C.a.mark((function t(){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=6;break}return t.next=3,L.getAll("BloodDonate",m.token);case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,L.getAll("BloodDonate/personId="+e,m.token);case 8:t.t0=t.sent;case 9:(a=t.t0).ok&&a.data?(u({pageStatus:A.OK,statusCode:0}),c(a.data)):u({pageStatus:A.Error,statusCode:a.statusCode});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){h()}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Blood donations"}),Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Blood group"}),Object(O.jsx)("th",{children:"Amount"}),Object(O.jsx)("th",{children:"Donor"}),Object(O.jsx)("th",{children:"Doctor"}),Object(O.jsx)("th",{children:"Created at"}),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{children:s.map((function(e){return Object(O.jsx)("tr",{children:Object(O.jsx)(_,{bloodDonate:e})},e.id.toString())}))})]}),Object(O.jsx)(P,Object(d.a)({},j))]})},$=function(){var e=Object(i.g)().id,t=Object(n.useState)({bloodDonate:{}}),s=Object(l.a)(t,2),c=s[0],r=s[1],o=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),u=Object(l.a)(o,2),m=u[0],h=u[1],p=Object(n.useContext)(b),x=function(){var t=Object(y.a)(C.a.mark((function t(){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.get("/BloodDonate/"+e,p.token);case 2:(a=t.sent).ok&&a.data?(h({pageStatus:A.OK,statusCode:0}),r({bloodDonate:a.data})):h({pageStatus:A.Error,statusCode:a.statusCode});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(e){if(!Object(F.isEmptyObject)(e.bloodDonate)){var t=e.bloodDonate,s=a(14);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:"Blood donation"}),Object(O.jsx)("hr",{}),Object(O.jsxs)("dl",{className:"row",children:[Object(O.jsx)("dt",{className:"col-sm-2",children:"Blood group"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.bloodGroup.bloodGroupValue}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Amount"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.amount}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Donor"}),Object(O.jsx)("dd",{className:"col-sm-10",children:Object(O.jsx)(j.b,{to:"/Person/"+t.donorId,children:t.donor.fullName})}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Doctor"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.doctor.fullName}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Expire date"}),Object(O.jsx)("dd",{className:"col-sm-10",children:s(t.expireDate,"mediumDate")}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Created by"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.createdBy}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Create at"}),Object(O.jsx)("dd",{className:"col-sm-10",children:s(t.createAt,"dd/mm/yyyy HH:MM")}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Update by"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.updateBy}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Updated at"}),Object(O.jsx)("dd",{className:"col-sm-10",children:s(t.updatedAt,"dd/mm/yyyy HH:MM")})]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(j.b,{className:"nav-link text-dark",to:"/BloodDonate",children:"to list"})})]})}return Object(O.jsx)(O.Fragment,{})};return Object(n.useEffect)((function(){x()}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Details"}),Object(O.jsx)(f,Object(d.a)({},c)),Object(O.jsx)(P,Object(d.a)({},m))]})},q={id:"00000000-0000-0000-0000-000000000000",createdBy:"-",createAt:"0001-01-01T00:00:00",updateBy:"-",updatedAt:"0001-01-01T00:00:00",donorId:"",donor:null,doctorId:"",doctor:null,bloodTestId:"",blootest:null,bloodGroupId:"00000000-0000-0000-0000-000000000000",bloodGroup:null,amount:"",available:!0,expireDate:"0001-01-01T00:00:00"},Z=function(e){var t,a,c,r,o={error:"",amount:"",donor:"",doctor:"",bloodTest:""},j=Object(n.useState)([]),u=Object(l.a)(j,2),m=u[0],h=u[1],p=Object(n.useState)([]),x=Object(l.a)(p,2),f=x[0],v=x[1],g=Object(n.useState)([]),N=Object(l.a)(g,2),k=N[0],S=N[1],I=Object(n.useState)(""),T=Object(l.a)(I,2),B=T[0],D=T[1],E=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),G=Object(l.a)(E,2),F=G[0],V=G[1],M=Object(n.useState)(o),H=Object(l.a)(M,2),K=H[0],U=H[1],R=Object(n.useContext)(b),z=function(){var e=Object(y.a)(C.a.mark((function e(){var t,a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAll("/Persons",R.token);case 2:return t=e.sent,e.next=5,L.getAll("/Persons/personType=Doctor",R.token);case 5:return a=e.sent,e.next=8,L.getAll("/BloodTest/minimum",R.token);case 8:s=e.sent,t.ok&&t.data&&a.ok&&a.data&&s.ok&&s.data?(V({pageStatus:A.OK,statusCode:0}),h(t.data),v(a.data),S(s.data)):V({pageStatus:A.Error,statusCode:s.statusCode});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){z()}),[]);var J=function(){var t=!0;return U(o),e.values.amount||(U((function(e){return Object(d.a)(Object(d.a)({},e),{},{amount:"Amount can not be 0!"})})),t=!1),e.values.donorId||(U((function(e){return Object(d.a)(Object(d.a)({},e),{},{donor:"Donor field can not be empty!"})})),t=!1),e.values.doctorId||(U((function(e){return Object(d.a)(Object(d.a)({},e),{},{doctor:"Doctor field can not be empty!"})})),t=!1),e.values.bloodTestId||(U((function(e){return Object(d.a)(Object(d.a)({},e),{},{bloodTest:"bloodTest field can not be empty!"})})),t=!1),t},_=function(){var t=Object(y.a)(C.a.mark((function t(a){var s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),J()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,L.post("BloodDonate",e.values,R.token);case 5:(s=t.sent).ok?D(s.data.id):U((function(e){return Object(d.a)(Object(d.a)({},e),{},{error:s.messages})}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[""!==B?Object(O.jsx)(i.a,{to:"/BloodDonate/"+B}):null,Object(O.jsxs)("form",{children:[Object(O.jsx)(w,{show:""!==K.error,message:K.error,alertClass:s.Danger}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Donor"}),Object(O.jsxs)("select",{value:null!==(t=e.values.donorId)&&void 0!==t?t:0,onChange:function(t){return e.handleChange(t.target)},className:"form-control",id:"donor",children:[Object(O.jsx)("option",{}),m.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.fullName},e.id)}))]}),Object(O.jsx)(w,{show:""!==K.donor,message:K.donor,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Doctor"}),Object(O.jsxs)("select",{value:null!==(a=e.values.doctorId)&&void 0!==a?a:0,onChange:function(t){return e.handleChange(t.target)},className:"form-control",id:"doctor",children:[Object(O.jsx)("option",{}),f.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.fullName},e.id)}))]}),Object(O.jsx)(w,{show:""!==K.doctor,message:K.doctor,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Blood test"}),Object(O.jsxs)("select",{value:null!==(c=e.values.bloodTestId)&&void 0!==c?c:0,onChange:function(t){return e.handleChange(t.target)},className:"form-control",id:"bloodTest",children:[Object(O.jsx)("option",{}),k.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.overviewData},e.id)}))]}),Object(O.jsx)(w,{show:""!==K.bloodTest,message:K.bloodTest,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Amount"}),Object(O.jsx)("input",{value:null!==(r=e.values.amount)&&void 0!==r?r:0,onChange:function(t){return e.handleChange(t.target)},type:"number",step:"0.1",placeholder:"0",className:"form-control",id:"amount"}),Object(O.jsx)(w,{show:""!==K.amount,message:K.amount,alertClass:s.Danger})]}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("button",{type:"submit",onClick:function(e){return _(e.nativeEvent)},className:"btn btn-primary",children:"Create"})})]}),Object(O.jsx)(P,Object(d.a)({},F))]})},Q=function(){var e=Object(i.g)().personId,t=Object(n.useState)(q),a=Object(l.a)(t,2),s=a[0],c=a[1];Object(n.useEffect)((function(){e&&c(Object(d.a)(Object(d.a)({},s),{},{donorId:e}))}),[]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Create"}),Object(O.jsx)("h4",{children:"Blood donate"}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)(Z,{values:s,handleChange:function(e){switch(e.id){case"doctor":return void c(Object(d.a)(Object(d.a)({},s),{},{doctorId:e.value}));case"donor":return void c(Object(d.a)(Object(d.a)({},s),{},{donorId:e.value}));case"bloodTest":return void c(Object(d.a)(Object(d.a)({},s),{},{bloodTestId:e.value}));case"amount":return void c(Object(d.a)(Object(d.a)({},s),{},{amount:e.value}))}}})})})]})},X=function(e){var t=a(14);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("td",{children:e.bloodTransfusion.amount}),Object(O.jsx)("td",{children:e.bloodTransfusion.bloodGroup.bloodGroupValue}),Object(O.jsx)("td",{children:e.bloodTransfusion.donor.fullName}),Object(O.jsx)("td",{children:e.bloodTransfusion.doctor.fullName}),Object(O.jsx)("td",{children:t(e.bloodTransfusion.createAt,"dd/mm/yyyy")}),Object(O.jsx)("td",{children:Object(O.jsx)(j.b,{to:"/BloodTransfusion/"+e.bloodTransfusion.id,children:"Details"})})]})},Y=function(){var e=Object(i.g)().personId,t=Object(n.useState)([]),a=Object(l.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),o=Object(l.a)(r,2),j=o[0],u=o[1],m=Object(n.useContext)(b),h=function(){var t=Object(y.a)(C.a.mark((function t(){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=6;break}return t.next=3,L.getAll("BloodTransfusion",m.token);case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,L.getAll("BloodTransfusion/personId="+e,m.token);case 8:t.t0=t.sent;case 9:(a=t.t0).ok&&a.data?(u({pageStatus:A.OK,statusCode:0}),c(a.data)):u({pageStatus:A.Error,statusCode:a.statusCode});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){h()}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Blood tests"}),Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Amount"}),Object(O.jsx)("th",{children:"Blood group"}),Object(O.jsx)("th",{children:"Donor"}),Object(O.jsx)("th",{children:"Doctor"}),Object(O.jsx)("th",{children:"Created at"}),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{children:s.map((function(e){return Object(O.jsx)("tr",{children:Object(O.jsx)(X,{bloodTransfusion:e})},e.id.toString())}))})]}),Object(O.jsx)(P,Object(d.a)({},j))]})},ee=function(){var e=Object(i.g)().id,t=Object(n.useState)({bloodTransfusion:{}}),s=Object(l.a)(t,2),c=s[0],r=s[1],o=Object(n.useState)([]),u=Object(l.a)(o,2),m=u[0],h=u[1],p=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),x=Object(l.a)(p,2),f=x[0],v=x[1],g=Object(n.useContext)(b),N=function(){var t=Object(y.a)(C.a.mark((function t(){var a,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.get("BloodTransfusion/"+e,g.token);case 2:return a=t.sent,t.next=5,L.getAll("TransferableBlood/bloodTransfusionId="+e,g.token);case 5:s=t.sent,a.ok&&a.data&&s.ok&&s.data?(v({pageStatus:A.OK,statusCode:0}),r({bloodTransfusion:a.data}),h(s.data)):v({pageStatus:A.Error,statusCode:(a.ok?s:a).statusCode});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("td",{children:Object(O.jsx)(j.b,{to:"/BloodDonate/"+e.transferableBlood.bloodDonateId,children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"red",className:"bi bi-droplet-fill",viewBox:"0 0 16 16",children:Object(O.jsx)("path",{fillRule:"evenodd",d:"M8 16a6 6 0 0 0 6-6c0-1.655-1.122-2.904-2.432-4.362C10.254 4.176 8.75 2.503 8 0c0 0-6 5.686-6 10a6 6 0 0 0 6 6zM6.646 4.646c-.376.377-1.272 1.489-2.093 3.13l.894.448c.78-1.559 1.616-2.58 1.907-2.87l-.708-.708z"})})})}),Object(O.jsx)("td",{children:e.transferableBlood.amount}),Object(O.jsx)("td",{children:e.transferableBlood.bloodDonate.donor.fullName})]})},k=function(e){if(!Object(F.isEmptyObject)(e.bloodTransfusion)){var t=e.bloodTransfusion,s=a(14);return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:"Blood transfusion"}),Object(O.jsx)("hr",{}),Object(O.jsxs)("dl",{className:"row",children:[Object(O.jsx)("dt",{className:"col-sm-2",children:"Amount"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.amount}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Blood group"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.bloodGroup.bloodGroupValue}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Donor"}),Object(O.jsx)("dd",{className:"col-sm-10",children:Object(O.jsx)(j.b,{to:"/Person/"+t.donorId,children:t.donor.fullName})}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Doctor"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.doctor.fullName}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Comments"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.comments}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Created by"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.createdBy}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Create at"}),Object(O.jsx)("dd",{className:"col-sm-10",children:s(t.createAt,"dd/mm/yyyy HH:MM")}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Update by"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.updateBy}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Updated at"}),Object(O.jsx)("dd",{className:"col-sm-10",children:s(t.updatedAt,"dd/mm/yyyy HH:MM")})]})]})})}return Object(O.jsx)(O.Fragment,{})};return Object(n.useEffect)((function(){N()}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Details"}),Object(O.jsx)(k,Object(d.a)({},c)),Object(O.jsx)("h2",{children:"Blood to use"}),Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Blood"}),Object(O.jsx)("th",{children:"Amount"}),Object(O.jsx)("th",{children:"Donor fullName"}),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{children:m.map((function(e){return Object(O.jsx)("tr",{children:Object(O.jsx)(w,{transferableBlood:e})},e.id)}))})]}),Object(O.jsx)("div",{children:Object(O.jsx)(j.b,{className:"nav-link text-dark",to:"/BloodTransfusion",children:"to list"})}),Object(O.jsx)(P,Object(d.a)({},f))]})},te={id:"00000000-0000-0000-0000-000000000000",createdBy:"-",createAt:"0001-01-01T00:00:00",updateBy:"-",updatedAt:"0001-01-01T00:00:00",amount:"",commentsId:"00000000-0000-0000-0000-000000000000",comments:"",donorId:"",donor:null,doctorId:"",doctor:null,bloodGroupId:"",bloodGroup:null},ae=function(e){var t,a,c,r,o,j={error:"",amount:"",donor:"",doctor:"",bloodGroup:"",comments:""},u=Object(n.useState)([]),m=Object(l.a)(u,2),h=m[0],p=m[1],x=Object(n.useState)([]),f=Object(l.a)(x,2),v=f[0],g=f[1],N=Object(n.useState)([]),k=Object(l.a)(N,2),S=k[0],I=k[1],T=Object(n.useState)(""),B=Object(l.a)(T,2),D=B[0],E=B[1],G=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),F=Object(l.a)(G,2),V=F[0],M=F[1],H=Object(n.useState)(j),K=Object(l.a)(H,2),U=K[0],R=K[1],z=Object(n.useContext)(b),J=function(){var e=Object(y.a)(C.a.mark((function e(){var t,a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAll("/Persons",z.token);case 2:return t=e.sent,e.next=5,L.getAll("/Persons/personType=Doctor",z.token);case 5:return a=e.sent,e.next=8,L.getAll("/BloodGroup",z.token);case 8:s=e.sent,t.ok&&t.data&&a.ok&&a.data&&s.ok&&s.data?(M({pageStatus:A.OK,statusCode:0}),p(t.data),g(a.data),I(s.data)):M({pageStatus:A.Error,statusCode:s.statusCode});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var t=!0;return R(j),e.values.amount||(R((function(e){return Object(d.a)(Object(d.a)({},e),{},{amount:"Amount can not be 0!"})})),t=!1),e.values.donorId||(R((function(e){return Object(d.a)(Object(d.a)({},e),{},{donor:"Donor field can not be empty!"})})),t=!1),e.values.doctorId||(R((function(e){return Object(d.a)(Object(d.a)({},e),{},{doctor:"Doctor field can not be empty!"})})),t=!1),e.values.bloodGroupId||(R((function(e){return Object(d.a)(Object(d.a)({},e),{},{bloodGroup:"blood group field can not be empty!"})})),t=!1),t},W=function(){var t=Object(y.a)(C.a.mark((function t(a){var s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),_()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,L.post("BloodTransfusion",e.values,z.token);case 5:(s=t.sent).ok?E(s.data.id):R((function(e){return Object(d.a)(Object(d.a)({},e),{},{error:s.messages})}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){J()}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("form",{children:[""!==D?Object(O.jsx)(i.a,{to:"/BloodTransfusion/"+D}):null,Object(O.jsx)(w,{show:""!==U.error,message:U.error,alertClass:s.Danger}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Amount"}),Object(O.jsx)("input",{value:null!==(t=e.values.amount)&&void 0!==t?t:0,onChange:function(t){return e.handleChange(t.target)},type:"number",step:"0.1",placeholder:"0",className:"form-control",id:"amount"}),Object(O.jsx)(w,{show:""!==U.amount,message:U.amount,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Donor"}),Object(O.jsxs)("select",{value:null!==(a=e.values.donorId)&&void 0!==a?a:0,onChange:function(t){return e.handleChange(t.target)},className:"form-control",id:"donor",children:[Object(O.jsx)("option",{}),h.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.fullName},e.id)}))]}),Object(O.jsx)(w,{show:""!==U.donor,message:U.donor,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Doctor"}),Object(O.jsxs)("select",{value:null!==(c=e.values.doctorId)&&void 0!==c?c:0,onChange:function(t){return e.handleChange(t.target)},className:"form-control",id:"doctor",children:[Object(O.jsx)("option",{}),v.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.fullName},e.id)}))]}),Object(O.jsx)(w,{show:""!==U.doctor,message:U.doctor,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Blood group"}),Object(O.jsxs)("select",{value:null!==(r=e.values.bloodGroupId)&&void 0!==r?r:0,onChange:function(t){return e.handleChange(t.target)},className:"form-control",id:"bloodGroup",children:[Object(O.jsx)("option",{}),S.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.bloodGroupValue},e.id)}))]}),Object(O.jsx)(w,{show:""!==U.bloodGroup,message:U.bloodGroup,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"formTextArea",children:"Comments"}),Object(O.jsx)("textarea",{value:null!==(o=e.values.comments)&&void 0!==o?o:0,onChange:function(t){return e.handleChange(t.target)},maxLength:1024,className:"form-control",id:"comments",rows:3}),Object(O.jsx)(w,{show:""!==U.comments,message:U.comments,alertClass:s.Danger})]}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("button",{type:"submit",onClick:function(e){return W(e.nativeEvent)},className:"btn btn-primary",children:"Create"})})]}),Object(O.jsx)(P,Object(d.a)({},V))]})},se=function(){var e=Object(i.g)(),t=e.personId,a=e.bloodGroupId,s=Object(n.useState)(te),c=Object(l.a)(s,2),r=c[0],o=c[1];Object(n.useEffect)((function(){t&&a&&o(Object(d.a)(Object(d.a)({},r),{},{donorId:t,bloodGroupId:a}))}),[]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Create"}),Object(O.jsx)("h4",{children:"Blood transfusion"}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)(ae,{values:r,handleChange:function(e){switch(e.id){case"amount":return void o(Object(d.a)(Object(d.a)({},r),{},{amount:e.value}));case"doctor":return void o(Object(d.a)(Object(d.a)({},r),{},{doctorId:e.value}));case"donor":return void o(Object(d.a)(Object(d.a)({},r),{},{donorId:e.value}));case"bloodGroup":return void o(Object(d.a)(Object(d.a)({},r),{},{bloodGroupId:e.value}));case"comments":return void o(Object(d.a)(Object(d.a)({},r),{},{comments:e.value}))}}})})})]})},ne={firstname:"",lastname:"",identificationCode:""},ce=function(e){var t,a,c,r=Object(n.useState)(!1),o=Object(l.a)(r,2),d=o[0],i=o[1],u=Object(n.useState)([]),m=Object(l.a)(u,2),h=m[0],p=m[1],x=Object(n.useState)(""),f=Object(l.a)(x,2),v=f[0],g=f[1],N=Object(n.useContext)(b),k=function(){var t=Object(y.a)(C.a.mark((function t(a){var s,n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s="Persons/searchperson?firstname="+e.values.firstname+"&lastname="+e.values.lastname+"&identificationCode="+e.values.identificationCode,t.next=4,L.getAll(s,N.token);case 4:(n=t.sent).ok&&n.data?(g(""),p(n.data),i(!0)):g(n.messages);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("td",{children:Object(O.jsx)(j.b,{to:"/Person/"+e.person.id,children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"red",className:"bi bi-droplet-fill",viewBox:"0 0 16 16",children:Object(O.jsx)("path",{fillRule:"evenodd",d:"M8 16a6 6 0 0 0 6-6c0-1.655-1.122-2.904-2.432-4.362C10.254 4.176 8.75 2.503 8 0c0 0-6 5.686-6 10a6 6 0 0 0 6 6zM6.646 4.646c-.376.377-1.272 1.489-2.093 3.13l.894.448c.78-1.559 1.616-2.58 1.907-2.87l-.708-.708z"})})})}),Object(O.jsx)("td",{children:e.person.firstname}),Object(O.jsx)("td",{children:e.person.lastname}),Object(O.jsx)("td",{children:e.person.identificationCode})]})};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"small-middle-container",children:Object(O.jsxs)("form",{"asp-action":"Index",method:"get",id:"search-form",children:[Object(O.jsx)(w,{show:""!==v,message:v,alertClass:s.Danger}),Object(O.jsx)("h3",{children:"Search Person"}),Object(O.jsx)("div",{className:"col",children:"Firstname"}),Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("input",{value:null!==(t=e.values.firstname)&&void 0!==t?t:0,onChange:function(t){return e.handleChange(t.target)},id:"firstname",className:"form-control mb-2 mr-sm-2"})}),Object(O.jsx)("div",{className:"col",children:"Lastname"}),Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("input",{value:null!==(a=e.values.lastname)&&void 0!==a?a:0,onChange:function(t){return e.handleChange(t.target)},id:"lastname",className:"form-control mb-2 mr-sm-2"})}),Object(O.jsx)("div",{className:"col",children:"IdentificationCode"}),Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("input",{value:null!==(c=e.values.identificationCode)&&void 0!==c?c:0,onChange:function(t){return e.handleChange(t.target)},id:"identificationCode",className:"form-control mb-2 mr-sm-2"})}),Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)("button",{type:"submit",onClick:function(e){return k(e.nativeEvent)},className:"btn btn-primary mb-2 my-1 mx-2 d-inline",children:"Search"}),Object(O.jsx)(j.b,{className:"collapse-item",to:"/Person/Create",children:"Create person"})]})]})}),d?Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Profile"}),Object(O.jsx)("th",{children:"Firstname"}),Object(O.jsx)("th",{children:"Lastname"}),Object(O.jsx)("th",{children:"IdentificationCode"}),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{children:h.map((function(e){return Object(O.jsx)("tr",{className:"searched-person",children:Object(O.jsx)(S,{person:e})},e.id.toString())}))})]}):null]})},re=function(){var e=Object(n.useState)(ne),t=Object(l.a)(e,2),a=t[0],s=t[1];return Object(O.jsx)("div",{className:"container mt-2",children:Object(O.jsx)(ce,{values:a,handleChange:function(e){switch(e.id){case"firstname":return void s(Object(d.a)(Object(d.a)({},a),{},{firstname:e.value}));case"lastname":return void s(Object(d.a)(Object(d.a)({},a),{},{lastname:e.value}));case"identificationCode":return void s(Object(d.a)(Object(d.a)({},a),{},{identificationCode:e.value}))}}})})},oe=function(){var e=Object(i.g)().id,t=Object(n.useState)({person:{}}),s=Object(l.a)(t,2),c=s[0],r=s[1],o=Object(n.useState)({perBloDonInf:{}}),u=Object(l.a)(o,2),m=u[0],h=u[1],p=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),x=Object(l.a)(p,2),f=x[0],v=x[1],g=Object(n.useContext)(b),N=function(){var t=Object(y.a)(C.a.mark((function t(){var a,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.get("Persons/"+e,g.token);case 2:return a=t.sent,t.next=5,L.get("Persons/bloodDonateInfo="+e,g.token);case 5:s=t.sent,a.ok&&a.data&&s.ok&&s.data?(v({pageStatus:A.OK,statusCode:0}),r({person:a.data}),h({perBloDonInf:s.data})):v({pageStatus:A.Error,statusCode:a.statusCode});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){N()}),[]);var w=function(e){if(!Object(F.isEmptyObject)(e.person)&&!Object(F.isEmptyObject)(e.perBloDonInf)){var t=e.person,s=e.perBloDonInf,n=a(14);return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:"Person"}),Object(O.jsx)("hr",{}),Object(O.jsxs)("dl",{className:"row",children:[Object(O.jsx)("dt",{className:"col-sm-2",children:"Firstname"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.firstname}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Lastname"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.lastname}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Identification code"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.identificationCode}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Person type"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.personType.personTypeValue}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Blood group value"}),Object(O.jsx)("dd",{className:"col-sm-10",children:null!=t.bloodGroup?t.bloodGroup.bloodGroupValue:"unknown"}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Comments"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.comments}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Created by"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.createdBy}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Create at"}),Object(O.jsx)("dd",{className:"col-sm-10",children:n(t.createAt,"dd/mm/yyyy HH:MM")}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Update by"}),Object(O.jsx)("dd",{className:"col-sm-10",children:t.updateBy}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Updated at"}),Object(O.jsx)("dd",{className:"col-sm-10",children:n(t.updatedAt,"dd/mm/yyyy HH:MM")}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Person can donate from"}),Object(O.jsx)("dd",{className:"col-sm-10",children:n(s.date,"UTC:dd/mm/yyyy")}),Object(O.jsx)("dt",{className:"col-sm-2",children:"Allowed to donate blood"}),Object(O.jsx)("dd",{className:"col-sm-10",children:s.allowed?"\u2714":"\u274c"}),Object(O.jsx)("dt",{className:"col-sm-2 m-1",children:Object(O.jsx)(j.b,{className:"btn btn-primary",to:"/Contact/"+t.id,children:"Person contacts"})}),Object(O.jsxs)("div",{className:"btn-group col-sm-2 m-1",children:[Object(O.jsx)("button",{type:"button",className:"btn btn-info dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Create"}),Object(O.jsxs)("div",{className:"dropdown-menu",children:[Object(O.jsx)(j.b,{className:"dropdown-item",to:"/BloodTest/Create/personId="+t.id+"&bloodGroupId="+t.bloodGroupId,children:"BloodTest"}),Object(O.jsx)(j.b,{className:"dropdown-item",to:"/BloodDonate/Create/personId="+t.id,children:"BloodDonate"}),Object(O.jsx)(j.b,{className:"dropdown-item",to:"/BloodTransfusion/Create/personId="+t.id+"&bloodGroupId="+t.bloodGroupId,children:"BloodTransfusion"})]})]}),Object(O.jsxs)("div",{className:"btn-group col-sm-2 m-1",children:[Object(O.jsx)("button",{type:"button",className:"btn btn-info dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Index"}),Object(O.jsxs)("div",{className:"dropdown-menu",children:[Object(O.jsx)(j.b,{className:"dropdown-item",to:"/BloodTest/personId="+t.id,children:"BloodTest"}),Object(O.jsx)(j.b,{className:"dropdown-item",to:"/BloodDonate/personId="+t.id,children:"BloodDonate"}),Object(O.jsx)(j.b,{className:"dropdown-item",to:"/BloodTransfusion/personId="+t.id,children:"BloodTransfusion"})]})]})]})]})})}return Object(O.jsx)(O.Fragment,{})};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Details"}),Object(O.jsx)(w,Object(d.a)(Object(d.a)({},c),m)),Object(O.jsx)(P,Object(d.a)({},f))]})},le={id:"00000000-0000-0000-0000-000000000000",createdBy:"-",createAt:"0001-01-01T00:00:00",updateBy:"-",updatedAt:"0001-01-01T00:00:00",firstname:"",lastname:"",identificationCode:"",comments:"",personTypeId:"",personType:null,bloodGroupId:null,bloodGroup:null,fullName:""},de=function(e){var t,a,c,r,o,j,u={error:"",firstname:"",lastname:"",identificationCode:"",personType:"",comments:""},m=Object(n.useState)([]),h=Object(l.a)(m,2),p=h[0],x=h[1],f=Object(n.useState)([]),v=Object(l.a)(f,2),g=v[0],N=v[1],k=Object(n.useState)(""),S=Object(l.a)(k,2),I=S[0],T=S[1],B=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),D=Object(l.a)(B,2),E=D[0],G=D[1],F=Object(n.useState)(u),V=Object(l.a)(F,2),M=V[0],H=V[1],K=Object(n.useContext)(b),U=function(){var e=Object(y.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAll("/PersonType",K.token);case 2:return t=e.sent,e.next=5,L.getAll("/BloodGroup",K.token);case 5:a=e.sent,t.ok&&t.data&&a.ok&&a.data?(G({pageStatus:A.OK,statusCode:0}),x(t.data),N(a.data)):G({pageStatus:A.Error,statusCode:(t.ok?a:t).statusCode});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var t=!0;return H(u),e.values.firstname||(H((function(e){return Object(d.a)(Object(d.a)({},e),{},{firstname:"Firstname field can not be empty!"})})),t=!1),e.values.lastname||(H((function(e){return Object(d.a)(Object(d.a)({},e),{},{lastname:"Lastname field can not be empty!"})})),t=!1),e.values.identificationCode||(H((function(e){return Object(d.a)(Object(d.a)({},e),{},{identificationCode:"IdentificationCode field can not be empty!"})})),t=!1),e.values.personTypeId||(H((function(e){return Object(d.a)(Object(d.a)({},e),{},{personType:"Person type field can not be empty!"})})),t=!1),t},z=function(){var t=Object(y.a)(C.a.mark((function t(a){var s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),R()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,L.post("Persons",e.values,K.token);case 5:(s=t.sent).ok?T(s.data.id):H((function(e){return Object(d.a)(Object(d.a)({},e),{},{error:s.messages})}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){U()}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("form",{"asp-action":"Create",id:"create-person",children:[""!==I?Object(O.jsx)(i.a,{to:"/Person/"+I}):null,Object(O.jsx)(w,{show:""!==M.error,message:M.error,alertClass:s.Danger}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Firstname"}),Object(O.jsx)("input",{value:null!==(t=e.values.firstname)&&void 0!==t?t:0,onChange:function(t){return e.handleChange(t.target)},maxLength:128,className:"form-control",id:"firstname"}),Object(O.jsx)(w,{show:""!==M.firstname,message:M.firstname,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Lastname"}),Object(O.jsx)("input",{value:null!==(a=e.values.lastname)&&void 0!==a?a:0,onChange:function(t){return e.handleChange(t.target)},maxLength:128,className:"form-control",id:"lastname"}),Object(O.jsx)(w,{show:""!==M.lastname,message:M.lastname,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"IdentificationCode"}),Object(O.jsx)("input",{value:null!==(c=e.values.identificationCode)&&void 0!==c?c:0,onChange:function(t){return e.handleChange(t.target)},maxLength:128,className:"form-control",id:"identificationCode"}),Object(O.jsx)(w,{show:""!==M.identificationCode,message:M.identificationCode,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Comments"}),Object(O.jsx)("textarea",{value:null!==(r=e.values.comments)&&void 0!==r?r:0,onChange:function(t){return e.handleChange(t.target)},maxLength:1024,className:"form-control",rows:5,id:"comments"}),Object(O.jsx)(w,{show:""!==M.comments,message:M.comments,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Person type"}),Object(O.jsxs)("select",{value:null!==(o=e.values.personTypeId)&&void 0!==o?o:0,onChange:function(t){return e.handleChange(t.target)},className:"form-control",id:"personType",children:[Object(O.jsx)("option",{}),p.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.personTypeValue},e.id)}))]}),Object(O.jsx)(w,{show:""!==M.personType,message:M.personType,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"control-label",children:"Blood group"}),Object(O.jsxs)("select",{value:null!==(j=e.values.bloodGroupId)&&void 0!==j?j:0,onChange:function(t){return e.handleChange(t.target)},className:"form-control",id:"bloodGroup",children:[Object(O.jsx)("option",{}),g.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.bloodGroupValue},e.id)}))]})]}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("button",{type:"submit",onClick:function(e){return z(e.nativeEvent)},className:"btn btn-primary",children:"Create"})})]}),Object(O.jsx)(P,Object(d.a)({},E))]})},ie=function(){var e=Object(n.useState)(le),t=Object(l.a)(e,2),a=t[0],s=t[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Create"}),Object(O.jsx)("h4",{children:"Blood Person"}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)(de,{values:a,handleChange:function(e){switch(e.id){case"firstname":return void s(Object(d.a)(Object(d.a)({},a),{},{firstname:e.value}));case"lastname":return void s(Object(d.a)(Object(d.a)({},a),{},{lastname:e.value}));case"identificationCode":return void s(Object(d.a)(Object(d.a)({},a),{},{identificationCode:e.value}));case"comments":return void s(Object(d.a)(Object(d.a)({},a),{},{comments:e.value}));case"personType":return void s(Object(d.a)(Object(d.a)({},a),{},{personTypeId:e.value}));case"bloodGroup":return void s(Object(d.a)(Object(d.a)({},a),{},{bloodGroupId:e.value}))}}})})})]})},je={id:"00000000-0000-0000-0000-000000000000",createdBy:"-",createAt:"0001-01-01T00:00:00",updateBy:"-",updatedAt:"0001-01-01T00:00:00",contactValue:"",contactTypeId:null,contactType:null,personId:null,person:null},ue=function(){var e,t,a={error:"",contactValue:"",contactType:""},c=Object(i.g)().id,r=Object(n.useState)({person:{}}),o=Object(l.a)(r,2),u=o[0],m=o[1],h=Object(n.useState)([]),p=Object(l.a)(h,2),x=p[0],f=p[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),N=g[0],k=g[1],S=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),I=Object(l.a)(S,2),T=I[0],B=I[1],D=Object(n.useContext)(b),E=Object(n.useState)(je),G=Object(l.a)(E,2),V=G[0],M=G[1],H=Object(n.useState)(a),K=Object(l.a)(H,2),U=K[0],R=K[1],z=function(){var e=Object(y.a)(C.a.mark((function e(){var t,a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(Object(d.a)(Object(d.a)({},V),{},{personId:c})),e.next=3,L.getAll("Persons/"+c,D.token);case 3:return t=e.sent,e.next=6,L.getAll("contactTypes",D.token);case 6:return a=e.sent,e.next=9,L.getAll("Contacts/person="+c,D.token);case 9:s=e.sent,t.ok&&t.data&&a.ok&&a.data&&s.ok&&s.data?(B({pageStatus:A.OK,statusCode:0}),m({person:t.data}),k(a.data),f(s.data)):B({pageStatus:A.Error,statusCode:s.statusCode});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){z()}),[]);var J=function(){var e=!0;return R(a),V.contactValue||(R((function(e){return Object(d.a)(Object(d.a)({},e),{},{contactValue:"Contact value field can not be empty!"})})),e=!1),V.contactValue.length>128&&(R((function(e){return Object(d.a)(Object(d.a)({},e),{},{contactValue:"Contact value field can not be empty!"})})),e=!1),V.contactTypeId||(R((function(e){return Object(d.a)(Object(d.a)({},e),{},{contactType:"Contact type value field can not be empty!"})})),e=!1),e},_=function(){var e=Object(y.a)(C.a.mark((function e(t){var a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),J()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,L.post("Contacts",V,D.token);case 5:(a=e.sent).ok?(s=x.concat(a.data),f(s),M(Object(d.a)(Object(d.a)({},je),{},{personId:c}))):R((function(e){return Object(d.a)(Object(d.a)({},e),{},{error:a.messages})}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(y.a)(C.a.mark((function e(t,a){var s,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,L.delete("Contacts/"+a,D.token);case 3:(s=e.sent).ok?(n=x.filter((function(e){return e.id!==a})),f(n)):R((function(e){return Object(d.a)(Object(d.a)({},e),{},{error:s.messages})}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$=function(){var e=Object(y.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,W(t,a.id);case 3:M((function(e){return Object(d.a)(Object(d.a)({},e),{},{contactValue:a.contactValue,contactTypeId:a.contactTypeId})}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),q=function(e){switch(e.id){case"contactValue":return void M(Object(d.a)(Object(d.a)({},V),{},{contactValue:e.value}));case"contactType":return void M(Object(d.a)(Object(d.a)({},V),{},{contactTypeId:e.value}))}},Z=function(e){if(!Object(F.isEmptyObject)(x)){var t=e.person;return Object(O.jsxs)("h2",{className:"m-4",children:[Object(O.jsx)("span",{className:"font-weight-bold mr-2",children:t.fullName}),"contacts"]})}return Object(O.jsx)(O.Fragment,{})};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(w,{show:""!==U.error,message:U.error,alertClass:s.Danger}),Object(O.jsx)(j.b,{to:"/Person/"+c,children:"Back to person details"}),Object(O.jsx)(Z,Object(d.a)({},u)),Object(O.jsx)("h3",{children:"Create"}),Object(O.jsx)("div",{className:"row m-2",children:Object(O.jsxs)("form",{"asp-action":"Create",className:"row",children:[Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)("label",{className:"control-label",children:"Contact value"}),Object(O.jsx)("input",{value:null!==(e=V.contactValue)&&void 0!==e?e:0,onChange:function(e){return q(e.target)},maxLength:128,className:"form-control",id:"contactValue"}),Object(O.jsx)(w,{show:""!==U.contactValue,message:U.contactValue,alertClass:s.Danger})]}),Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)("label",{className:"control-label",children:"Contact type"}),Object(O.jsxs)("select",{value:null!==(t=V.contactTypeId)&&void 0!==t?t:0,onChange:function(e){return q(e.target)},className:"form-control",id:"contactType",children:[Object(O.jsx)("option",{}),N.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.contactTypeValue},e.id)}))]}),Object(O.jsx)(w,{show:""!==U.contactType,message:U.contactType,alertClass:s.Danger})]}),Object(O.jsx)("div",{className:"col mt-4",children:Object(O.jsx)("button",{type:"submit",onClick:function(e){return _(e.nativeEvent)},className:"btn btn-primary",children:"Create"})})]})}),Object(O.jsx)("h3",{children:"List"}),Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Contact value"}),Object(O.jsx)("th",{children:"Contact type value"}),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{children:x.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.contactValue}),Object(O.jsx)("td",{children:e.contactType.contactTypeValue}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{type:"submit",onClick:function(t){return W(t.nativeEvent,e.id)},className:"btn btn-primary mr-2",children:"Remove"}),Object(O.jsx)("button",{type:"submit",onClick:function(t){return $(t.nativeEvent,e)},className:"btn btn-primary",children:"Edit"})]})]},e.id.toString())}))})]}),Object(O.jsx)(P,Object(d.a)({},T))]})},be=a(17),me=function(){var e=Object(n.useState)({statistics:{}}),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),r=Object(l.a)(c,2),o=r[0],i=r[1],j=Object(n.useContext)(b),u=function(){var e=Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get("Statistics/BloodDonate",j.token);case 2:(t=e.sent).ok&&t.data?(i({pageStatus:A.OK,statusCode:0}),s({statistics:t.data})):i({pageStatus:A.Error,statusCode:t.statusCode});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){u()}),[]);var m=function(e){if(!Object(F.isEmptyObject)(e.statistics)){var t,a=e.statistics;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(be.a,{width:800,height:500,chartType:"PieChart",loader:Object(O.jsx)("div",{children:"Loading Chart"}),data:JSON.parse(null!==(t=a.data)&&void 0!==t?t:""),options:{title:"Blood donate statistics",titleTextStyle:{fontSize:24},pieSliceText:"label",backgroundColor:"#f8f9fc",pieHole:.4}})})}return Object(O.jsx)(O.Fragment,{})};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(m,Object(d.a)({},a)),Object(O.jsx)(P,Object(d.a)({},o))]})},Oe=function(){var e=Object(n.useState)({statistics:{}}),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),r=Object(l.a)(c,2),o=r[0],i=r[1],j=Object(n.useContext)(b),u=function(){var e=Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get("Statistics/BloodTransfusion",j.token);case 2:(t=e.sent).ok&&t.data?(i({pageStatus:A.OK,statusCode:0}),s({statistics:t.data})):i({pageStatus:A.Error,statusCode:t.statusCode});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){u()}),[]);var m=function(e){if(!Object(F.isEmptyObject)(e.statistics)){var t,a=e.statistics;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(be.a,{width:800,height:500,chartType:"PieChart",loader:Object(O.jsx)("div",{children:"Loading Chart"}),data:JSON.parse(null!==(t=a.data)&&void 0!==t?t:""),options:{title:"Blood transfusions statistics",titleTextStyle:{fontSize:24},pieSliceText:"label",backgroundColor:"#f8f9fc"}})})}return Object(O.jsx)(O.Fragment,{})};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(m,Object(d.a)({},a)),Object(O.jsx)(P,Object(d.a)({},o))]})},he=function(){var e=Object(n.useState)({statistics:{}}),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)({pageStatus:A.Loading,statusCode:-1}),r=Object(l.a)(c,2),o=r[0],i=r[1],j=Object(n.useContext)(b),u=function(){var e=Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get("Statistics/General",j.token);case 2:(t=e.sent).ok&&t.data?(i({pageStatus:A.OK,statusCode:0}),s({statistics:t.data})):i({pageStatus:A.Error,statusCode:t.statusCode});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){u()}),[]);var m=function(e){if(!Object(F.isEmptyObject)(e.statistics)){var t,a=e.statistics;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(be.a,{width:800,height:500,chartType:"AreaChart",loader:Object(O.jsx)("div",{children:"Loading Chart"}),data:JSON.parse(null!==(t=a.data)&&void 0!==t?t:""),options:{title:"Activities",titleTextStyle:{fontSize:24},hAxis:{title:"Date",titleTextStyle:{color:"#333"}},vAxis:{title:"Amount (ml)",minValue:0},backgroundColor:"#f8f9fc"}})})}return Object(O.jsx)(O.Fragment,{})};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(m,Object(d.a)({},a)),Object(O.jsx)(P,Object(d.a)({},o))]})},pe=function(){var e=Object(n.useState)(Object(d.a)(Object(d.a)({},u),{},{setAuthInfo:function(e,t,n){s(Object(d.a)(Object(d.a)({},a),{},{token:e,firstName:t,lastName:n}))}})),t=Object(l.a)(e,2),a=t[0],s=t[1];return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(m,{value:a,children:Object(O.jsxs)(i.d,{children:[Object(O.jsx)(i.b,{path:"/Identity",children:Object(O.jsx)(h,{children:Object(O.jsxs)(i.d,{children:[Object(O.jsx)(i.b,{path:"/Identity/Login",exact:!0,component:E}),Object(O.jsx)(i.b,{path:"/Identity/Register",exact:!0,component:G}),null!=a.token?Object(O.jsx)(i.d,{children:Object(O.jsx)(i.b,{path:"/Identity/Profile",exact:!0,component:V})}):Object(O.jsx)(i.a,{to:"/Identity/Login"})]})})}),Object(O.jsx)(i.b,{children:Object(O.jsx)(v,{children:null!=a.token?Object(O.jsxs)(i.d,{children:[Object(O.jsx)(i.b,{path:"/",exact:!0,component:g}),Object(O.jsx)(i.b,{path:"/Privacy",exact:!0,component:M}),Object(O.jsx)(i.b,{path:"/Statistics/BloodDonate",exact:!0,component:me}),Object(O.jsx)(i.b,{path:"/Statistics/BloodTransfusion",exact:!0,component:Oe}),Object(O.jsx)(i.b,{path:"/Statistics/General",exact:!0,component:he}),Object(O.jsx)(i.b,{path:"/Person",exact:!0,component:re}),Object(O.jsx)(i.b,{path:"/Person/Create",exact:!0,component:ie}),Object(O.jsx)(i.b,{path:"/Contact/:id",exact:!0,component:ue}),Object(O.jsx)(i.b,{path:"/Person/:id",exact:!0,component:oe}),Object(O.jsx)(i.b,{path:"/BloodTest",exact:!0,component:K}),Object(O.jsx)(i.b,{path:"/BloodTest/personId=:personId",exact:!0,component:K}),Object(O.jsx)(i.b,{path:"/BloodTest/Create/",exact:!0,component:J}),Object(O.jsx)(i.b,{path:"/BloodTest/Create/personId=:personId&bloodGroupId=:bloodGroupId",exact:!0,component:J}),Object(O.jsx)(i.b,{path:"/BloodTest/:id",exact:!0,component:U}),Object(O.jsx)(i.b,{path:"/BloodDonate",exact:!0,component:W}),Object(O.jsx)(i.b,{path:"/BloodDonate/personId=:personId",exact:!0,component:W}),Object(O.jsx)(i.b,{path:"/BloodDonate/Create",exact:!0,component:Q}),Object(O.jsx)(i.b,{path:"/BloodDonate/Create/personId=:personId",exact:!0,component:Q}),Object(O.jsx)(i.b,{path:"/BloodDonate/:id",exact:!0,component:$}),Object(O.jsx)(i.b,{path:"/BloodTransfusion",exact:!0,component:Y}),Object(O.jsx)(i.b,{path:"/BloodTransfusion/personId=:personId",exact:!0,component:Y}),Object(O.jsx)(i.b,{path:"/BloodTransfusion/Create",exact:!0,component:se}),Object(O.jsx)(i.b,{path:"/BloodTransfusion/Create/personId=:personId&bloodGroupId=:bloodGroupId",exact:!0,component:se}),Object(O.jsx)(i.b,{path:"/BloodTransfusion/:id",exact:!0,component:ee})]}):Object(O.jsx)(i.a,{to:"/Identity/Login"})})})]})})})};a(69),a(70),a(71);o.a.render(Object(O.jsxs)(j.a,{basename:"/react",children:[Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(pe,{})}),","]}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.96b614a9.chunk.js.map